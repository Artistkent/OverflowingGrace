(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{9740:function(e,r,t){Promise.resolve().then(t.bind(t,4912))},5932:function(e,r,t){"use strict";t.d(r,{Aj:function(){return o.Aj},I8:function(){return i},e5:function(){return o.e5},tO:function(){return s},w7:function(){return o.w7}});var a=t(5236),l=t(9854),o=t(5735);let n=(0,a.ZF)({apiKey:"AIzaSyBhKM5cHUiqcsJC9MIYipQsD4Un3w6Muxw",authDomain:"overflowing-grace.firebaseapp.com",projectId:"overflowing-grace",storageBucket:"overflowing-grace.appspot.com",messagingSenderId:"1065437114816",appId:"1:1065437114816:web:f0fb56988c4e7fd41cd825"}),s=(0,l.cF)(n),i=(0,o.v0)(n)},4912:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return u}});var a=t(7437),l=t(2265),o=t(5932),n=t(6648),s=t(8472),i=t(9854),d=t(3153),c=()=>{let[e,r]=(0,l.useState)([]),[t,c]=(0,l.useState)(null),[u,g]=(0,l.useState)(null),[b,p]=(0,l.useState)(!1),[f,m]=(0,l.useState)(!1),h=[{name:"...",price:"...",description:"...",url:["..."],alt:"..."}];(0,l.useEffect)(()=>{(async()=>{let e=(0,i.iH)(o.tO,"properties.json");try{let t=await (0,i.Jt)(e),a=await s.Z.get(t);r(a.data)}catch(e){console.error("Error fetching data:",e)}})()},[]);let x=(t,a)=>{let{name:l,value:o}=a.target,n=[...e];n[t]={...n[t],[l]:o},r(n)},y=(e,r)=>{e.target.files&&e.target.files[0]?(c(e.target.files[0]),p(!b)):p(b)},v=e=>{g(e),p(!0)},w=async(t,a)=>{if(o.I8.currentUser){let l=(0,i.iH)(o.tO,"images/".concat(t.name));try{await (0,i.KV)(l,t);let o=await (0,i.Jt)(l),n=[...e],s=n[a].url||[];n[a]={...n[a],url:[...s,o]},r(n)}catch(e){console.error("Error uploading image:",e)}}else console.error("User is not authenticated.")},j=async(t,a)=>{if(o.I8.currentUser){var l,n,s;let d=null===(n=e[t])||void 0===n?void 0:null===(l=n.url)||void 0===l?void 0:l[a];if(!d){console.error("No URL found to delete.");return}let c=decodeURIComponent((null===(s=d.split("/").pop())||void 0===s?void 0:s.split("?")[0])||"");if(!c){console.error("Unable to extract file name from URL.");return}let u=(0,i.iH)(o.tO,c);try{await (0,i.oq)(u);let l=[...e];l[t].url.splice(a,1),r(l)}catch(e){console.error("Error deleting image:",e),m(!0)}}else console.error("User is not authenticated.")},k=async(t,a)=>{if(o.I8.currentUser){var l,n,s;let o=null===(n=e[t])||void 0===n?void 0:null===(l=n.url)||void 0===l?void 0:l[a];if(!o){console.error("No URL found to delete.");return}if(!decodeURIComponent((null===(s=o.split("/").pop())||void 0===s?void 0:s.split("?")[0])||"")){console.error("Unable to extract file name from URL.");return}try{let l=[...e];l[t].url.splice(a,1),r(l),m(!1)}catch(e){console.error("Error deleting image:",e)}}else console.error("User is not authenticated.")},I={accessibility:!0,adaptiveHeight:!0,mobileFirst:!0,arrows:!0,dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:6e3},N=t=>{let a=[...e];a.splice(t,1),r(a)},C=async()=>{let r=(0,i.iH)(o.tO,"properties.json");try{let t=JSON.stringify(e);await (0,i.sf)(r,t,"raw",{contentType:"application/json"}),console.log("Data saved successfully")}catch(e){console.error("Error saving data:",e)}};return(0,l.useEffect)(()=>{t&&null!==u&&(w(t,u),c(null),g(null),p(!1))},[t,u]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[e.map((e,r)=>(0,a.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Name: "}),(0,a.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"text",name:"name",value:e.name,onChange:e=>x(r,e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Price: "}),(0,a.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"text",name:"price",value:e.price,onChange:e=>x(r,e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Description: "}),(0,a.jsx)("textarea",{className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",name:"description",value:e.description,onChange:e=>x(r,e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Image Alt Text: "}),(0,a.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"text",name:"alt",value:e.alt,onChange:e=>x(r,e)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Location: "}),(0,a.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"text",name:"location",value:e.location,onChange:e=>x(r,e)})]}),(0,a.jsx)(d.Z,{className:"my-7 ",...I,children:e.url&&Array.isArray(e.url)&&e.url.map((t,l)=>(0,a.jsxs)("div",{children:[(0,a.jsx)(n.default,{draggable:"false",className:"",src:t,width:100,height:100,alt:e.alt||""}),(0,a.jsxs)("div",{className:"my-2",children:[(0,a.jsx)("button",{onClick:()=>j(r,l),className:" top-2 right-2 bg-red-500 text-white rounded-full p-2 mx-2",children:"Delete"}),f?(0,a.jsx)("button",{onClick:()=>k(r,l),className:" top-2 right-2 bg-red-500 text-white rounded-full p-2 mx-2",children:"Delete Url Only"}):(0,a.jsx)(a.Fragment,{})]})]},l))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Choose Image: "}),(0,a.jsx)("input",{accept:"image/*",type:"file",onChange:e=>y(e,r)})]}),b?(0,a.jsx)("button",{onClick:()=>v(r),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 mx-1 rounded",children:"Upload Image"}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("button",{onClick:()=>N(r),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 mx-1 rounded",children:"Delete Item"})]},r)),(0,a.jsxs)("div",{className:"sticky bottom-0 p-2 bg-white opacity-95",children:[(0,a.jsx)("button",{onClick:()=>{r([...e].concat(h))},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 mx-1 rounded",children:"Add Item"}),(0,a.jsx)("button",{onClick:C,className:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-3 mx-1 rounded",children:"Save Changes"})]})]})})};function u(){let[e,r]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=(0,o.Aj)(o.I8,e=>{e?r(!0):r(!1)}),t=setInterval(n,1e3);return()=>{e(),clearInterval(t)}},[]);let t=async()=>{await (0,o.w7)(o.I8),localStorage.removeItem("signInTime"),r(!1)},n=()=>{let e=localStorage.getItem("signInTime");e&&new Date().getTime()-parseInt(e,10)>36e5&&t()};async function s(e){e.preventDefault();let t=new FormData(e.currentTarget),a=t.get("email"),l=t.get("password");try{await (0,o.e5)(o.I8,a,l);let e=new Date().getTime();localStorage.setItem("signInTime",e.toString()),r(!0)}catch(e){console.error("Login failed:",e),alert("Login failed. Please check your username and password.")}}return(0,a.jsx)(a.Fragment,{children:e?(0,a.jsxs)("div",{children:["About Yo!",(0,a.jsx)(c,{})]}):(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsx)("input",{type:"email",name:"email",placeholder:"email",required:!0}),(0,a.jsx)("input",{type:"password",name:"password",placeholder:"Password",required:!0}),(0,a.jsx)("button",{type:"submit",children:"Login"})]})})}}},function(e){e.O(0,[208,877,971,23,744],function(){return e(e.s=9740)}),_N_E=e.O()}]);